<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Minecraft Mods Translate to Japanese</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>

<body class="flex flex-col min-h-screen">
  <div class="js-mods-data" style="display:none" data-mods='[{&quot;id&quot;:&quot;displaydelight&quot;,&quot;name&quot;:&quot;Display Delight&quot;,&quot;versions&quot;:[&quot;1.20.1&quot;],&quot;links&quot;:{&quot;1.20.1&quot;:{&quot;file&quot;:&quot;displaydelight-1.2.0_1.20.1-ja.zip&quot;,&quot;url&quot;:&quot;https:\/\/github.com\/dimgraycat\/mc-mods-translate-to-japanese\/releases\/download\/v1.0.0\/displaydelight-1.2.0_1.20.1-ja.zip&quot;,&quot;sha1&quot;:&quot;4a4d34f2a90b8bfade94ddc4274a9318b0c9833a&quot;,&quot;size&quot;:&quot;0.51 KB&quot;}}},{&quot;id&quot;:&quot;pamhc2crops&quot;,&quot;name&quot;:&quot;Pam&#039;s HarvestCraft 2 - Crops&quot;,&quot;versions&quot;:[&quot;1.20.1&quot;],&quot;links&quot;:{&quot;1.20.1&quot;:{&quot;file&quot;:&quot;pamhc2crops-1.20-1.0.3_1.20.1-ja.zip&quot;,&quot;url&quot;:&quot;https:\/\/github.com\/dimgraycat\/mc-mods-translate-to-japanese\/releases\/download\/v1.0.0\/pamhc2crops-1.20-1.0.3_1.20.1-ja.zip&quot;,&quot;sha1&quot;:&quot;39715ba0ade96d25a7bd2ea69d6eaf74ae0f0c2a&quot;,&quot;size&quot;:&quot;3.74 KB&quot;}}},{&quot;id&quot;:&quot;pamhc2foodcore&quot;,&quot;name&quot;:&quot;Pam&#039;s HarvestCraft 2 - Food Core&quot;,&quot;versions&quot;:[&quot;1.20.1&quot;],&quot;links&quot;:{&quot;1.20.1&quot;:{&quot;file&quot;:&quot;pamhc2foodcore-1.20.4-1.0.5_1.20.1-ja.zip&quot;,&quot;url&quot;:&quot;https:\/\/github.com\/dimgraycat\/mc-mods-translate-to-japanese\/releases\/download\/v1.0.0\/pamhc2foodcore-1.20.4-1.0.5_1.20.1-ja.zip&quot;,&quot;sha1&quot;:&quot;6d7246d7b81a31b728207c21614e8f07ac23b115&quot;,&quot;size&quot;:&quot;2.76 KB&quot;}}},{&quot;id&quot;:&quot;pamhc2foodextended&quot;,&quot;name&quot;:&quot;Pam&#039;s HarvestCraft 2 - Food Extended&quot;,&quot;versions&quot;:[&quot;1.20.1&quot;],&quot;links&quot;:{&quot;1.20.1&quot;:{&quot;file&quot;:&quot;pamhc2foodextended-1.20.4-1.0.1_1.20.1-ja.zip&quot;,&quot;url&quot;:&quot;https:\/\/github.com\/dimgraycat\/mc-mods-translate-to-japanese\/releases\/download\/v1.0.0\/pamhc2foodextended-1.20.4-1.0.1_1.20.1-ja.zip&quot;,&quot;sha1&quot;:&quot;a6dab9e56a47a6d2bfa16d6213867696cfbfce81&quot;,&quot;size&quot;:&quot;11.78 KB&quot;}}},{&quot;id&quot;:&quot;pamhc2trees&quot;,&quot;name&quot;:&quot;Pam&#039;s HarvestCraft 2 - Trees&quot;,&quot;versions&quot;:[&quot;1.20.1&quot;],&quot;links&quot;:{&quot;1.20.1&quot;:{&quot;file&quot;:&quot;pamhc2trees-1.20-1.0.2_1.20.1-ja.zip&quot;,&quot;url&quot;:&quot;https:\/\/github.com\/dimgraycat\/mc-mods-translate-to-japanese\/releases\/download\/v1.0.0\/pamhc2trees-1.20-1.0.2_1.20.1-ja.zip&quot;,&quot;sha1&quot;:&quot;5dd4eadc3f8beaa518af857a8b8d6ae30d815930&quot;,&quot;size&quot;:&quot;2.04 KB&quot;}}},{&quot;id&quot;:&quot;reimaginingpotatoes&quot;,&quot;name&quot;:&quot;Poisonous Potato Update&quot;,&quot;versions&quot;:[&quot;1.20.1&quot;],&quot;links&quot;:{&quot;1.20.1&quot;:{&quot;file&quot;:&quot;reimaginingpotatoes-1.20.1-1.0.0-forge_1.20.1-ja.zip&quot;,&quot;url&quot;:&quot;https:\/\/github.com\/dimgraycat\/mc-mods-translate-to-japanese\/releases\/download\/v1.0.0\/reimaginingpotatoes-1.20.1-1.0.0-forge_1.20.1-ja.zip&quot;,&quot;sha1&quot;:&quot;5a87bbf62d474e6569c9adf62a5176f6cdd4f664&quot;,&quot;size&quot;:&quot;11.14 KB&quot;}}},{&quot;id&quot;:&quot;twilightforest&quot;,&quot;name&quot;:&quot;The Twilight Forest (\u9ec4\u660f\u306e\u68ee)&quot;,&quot;versions&quot;:[&quot;1.20.1&quot;],&quot;links&quot;:{&quot;1.20.1&quot;:{&quot;file&quot;:&quot;twilightforest-1.20.1-4.3.2508-universal_1.20.1-ja.zip&quot;,&quot;url&quot;:&quot;https:\/\/github.com\/dimgraycat\/mc-mods-translate-to-japanese\/releases\/download\/v1.0.0\/twilightforest-1.20.1-4.3.2508-universal_1.20.1-ja.zip&quot;,&quot;sha1&quot;:&quot;2b6e00c7e2d5e13b706373e6a34317c2cee10abf&quot;,&quot;size&quot;:&quot;14.91 KB&quot;}}}]'></div>
  <header class="bg-gray-800 text-white p-4 flex justify-between items-center">
    <div class="text-lg font-semibold">Minecraft Mods Translate to Japanese</div>
    <button class="text-white text-xl md:hidden" onclick="toggleMobileMenu()">
      <i class="fas fa-bars"></i>
    </button>
    <nav class="hidden md:flex space-x-4">
      <a href="#top" class="flex items-center space-x-1 text-white hover:underline">
        <i class="fas fa-house text-red-600 w-5 h-5 flex items-center justify-center"></i><span>Top</span>
      </a>
      <a href="#about" class="flex items-center space-x-1 text-white hover:underline">
        <i class="fas fa-file-alt text-blue-500 w-5 h-5 flex items-center justify-center"></i><span>About</span>
      </a>
    </nav>
  </header>
  <div class="flex flex-wrap flex-1">
    <aside class="w-100 bg-gray-100 border-r border-gray-300 p-4 hidden md:block">
  <ul class="space-y-0.5">
    <li>
      <a href="index.html#top" class="flex items-center font-bold hover:bg-gray-200 px-2 py-0.5 rounded">
        <i class="fas fa-house text-red-600 w-5 h-5 flex items-center justify-center"></i><span
          class="ml-2">Top</span>
      </a>
    </li>
    <li>
      <a href="index.html#about" class="flex items-center font-bold hover:bg-gray-200 px-2 py-0.5 rounded">
        <i class="fas fa-file-alt text-blue-500 w-5 h-5 flex items-center justify-center"></i><span
          class="ml-2">About</span>
      </a>
    </li>
    <li>
      <div class="flex items-center justify-between font-bold hover:bg-gray-200 px-2 py-0.5 rounded cursor-pointer"
        onclick="toggleMods(this)">
        <div class="flex items-center">
          <i class="fas fa-folder text-orange-400 w-5 h-5 flex items-center justify-center"></i><span
            class="ml-2">Mods</span>
        </div>
        <i class="fas fa-chevron-right toggle-arrow"></i>
      </div>
      <ul id="sideModList" class="mod-list space-y-1 ml-6 overflow-hidden transition-[max-height] duration-300 ease-in-out"
        style="max-height: 0; visibility: hidden;">
        <!-- MODリストはここにJSから動的に挿入されます -->
      </ul>
    </li>
  </ul>
</aside>
    <main class="flex-1 p-4">
        <h2 id="mod-title" class="text-lg font-semibold mt-4 mb-2">MOD情報を読み込み中...</h2>
<div id="mod-supported-versions-container" class="flex items-center flex-wrap gap-1 mb-1 text-sm" style="display: none;">
  <span class="text-sm text-gray-600">対応バージョン:</span>
  <span id="mod-versions-list">
    <!-- バージョンタグはここにJSで挿入されます -->
  </span>
</div>
<div class="overflow-x-auto mt-2 max-w-5xl mx-auto">
  <table class="min-w-full divide-y divide-gray-300 text-sm">
    <thead class="bg-gray-100">
      <tr>
        <th scope="col" class="px-4 py-2 w-32 text-left font-semibold text-gray-700">
          <button onclick="sortTableByVersion()" title="バージョンでソート"
            class="flex items-center gap-1 px-2 py-1 rounded hover:bg-gray-200">
            <span>バージョン</span>
            <span class="relative w-3 h-4 ml-1">
              <i id="versionSortUp" class="fas fa-sort-up text-gray-400 absolute top-0 left-0"></i>
              <i id="versionSortDown" class="fas fa-sort-down text-gray-400 absolute bottom-0 left-0"></i>
            </span>
          </button>
        </th>
        <th scope="col" class="px-4 py-2 text-left font-semibold text-gray-700">ファイル名</th>
        <th scope="col" class="px-4 py-2 text-left font-semibold text-gray-700">SHA1</th>
        <th scope="col" class="px-4 py-2 text-left font-semibold text-gray-700">サイズ</th>
      </tr>
    </thead>
    <tbody id="mod-downloads-tbody" class="divide-y divide-gray-200">
      <!-- ダウンロード情報はここにJSで挿入されます -->
      <tr>
        <td colspan="4" class="px-4 py-2 text-center text-gray-500">MOD情報を読み込み中...</td>
      </tr>
    </tbody>
  </table>
</div>
    </main>
  </div>
  <footer class="bg-gray-800 text-white text-right py-2 px-4">
    &copy; 2025 Minecraft Mods Translate to Japanese
  </footer>
  <script><!--
    function toggleMods(el) {
      const list = el.parentElement.querySelector('.mod-list');
      const arrow = el.querySelector('.toggle-arrow');
      const isOpen = list.classList.contains('open');

      if (isOpen) {
        list.style.maxHeight = list.scrollHeight + 'px';
        list.style.visibility = 'visible';
        requestAnimationFrame(() => {
          list.style.maxHeight = '0';
        });
        setTimeout(() => {
          list.style.visibility = 'hidden';
        }, 300);
      } else {
        list.style.visibility = 'visible';
        list.style.maxHeight = list.scrollHeight + 'px';
      }

      list.classList.toggle('open');
      arrow.classList.toggle('rotate');
    }

    function toggleMobileMenu() {
      document.getElementById('mobileMenu').classList.toggle('hidden');
    }

    function toggleMobileMods() {
      const list = document.getElementById('mobileModList');
      const arrow = document.getElementById('mobileModsArrow');
      list.classList.toggle('hidden');
      arrow.classList.toggle('rotate');
    }

    function getQueryParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }

    function generateSideMenuMods() {
      const modsDataElement = document.querySelector('.js-mods-data');
      const sideModListElement = document.getElementById('sideModList');

      if (!modsDataElement || !sideModListElement) {
        console.error('Required elements for side menu generation not found.');
        return;
      }

      try {
        const modsJsonString = modsDataElement.dataset.mods;
        const mods = JSON.parse(modsJsonString);

        if (!Array.isArray(mods)) {
          console.error('Parsed mods data is not an array.');
          return;
        }

        sideModListElement.innerHTML = '';

        mods.forEach(mod => {
          if (mod && mod.name) {
            const listItem = document.createElement('li');
            const link = document.createElement('a');
            const modId = mod.id;

            link.href = `mods.html?id=${modId}`;
            link.className = 'block bg-gray-200 px-2 py-0.5 rounded hover:bg-gray-300 whitespace-normal break-words text-sm';
            link.title = mod.name;
            link.textContent = mod.name;

            listItem.appendChild(link);
            sideModListElement.appendChild(listItem);
          }
        });
      } catch (error) {
        console.error('Error parsing mods data or generating side menu:', error);
      }
    }

    function openModsList() {
      const list = document.getElementById('sideModList');
      const toggleButton = list.previousElementSibling;
      if (!toggleButton) return;
      const arrow = toggleButton.querySelector('.toggle-arrow');

      if (list && !list.classList.contains('open')) {
        list.style.visibility = 'visible';
        list.style.maxHeight = list.scrollHeight + 'px';
        list.classList.add('open');
        if (arrow) arrow.classList.add('rotate');
      }
    }

    document.addEventListener('DOMContentLoaded', function () {
      generateSideMenuMods();

      let modSectionOpenedByParam = false;
      const targetModId = getQueryParam('id');
      const sideModList = document.getElementById('sideModList');

      if (targetModId && sideModList) {
        const links = sideModList.querySelectorAll('a');
        links.forEach(link => {
          try {
            const linkUrl = new URL(link.href);
            const linkModId = linkUrl.searchParams.get('id');
            if (linkModId === targetModId) {
              link.classList.add('bg-blue-200', 'font-semibold');
              openModsList();
              modSectionOpenedByParam = true;
            }
          } catch (e) {
          }
        });
      }

      if (!modSectionOpenedByParam) {
        const modToggleButton = sideModList ? sideModList.previousElementSibling : null;
        const modArrow = modToggleButton ? modToggleButton.querySelector('.toggle-arrow') : null;

        if (sideModList) {
          sideModList.classList.remove('open');
          sideModList.style.maxHeight = '0';
          sideModList.style.overflow = 'hidden';
          sideModList.style.visibility = 'hidden';
        }
        if (modArrow) modArrow.classList.remove('rotate');
      }
    });
    function parseVersion(v) {
      return v.split('.').map(n => parseInt(n, 10));
    }

    function compareVersions(a, b) {
      const av = parseVersion(a);
      const bv = parseVersion(b);
      for (let i = 0; i < Math.max(av.length, bv.length); i++) {
        const ai = av[i] || 0;
        const bi = bv[i] || 0;
        if (ai !== bi) return ai - bi;
      }
      return 0;
    }

    let ascending = true;

    function sortTableByVersion() {
      const tbody = document.querySelector("table tbody");
      const rows = Array.from(tbody.querySelectorAll("tr"));
      rows.sort((rowA, rowB) => {
        const verA = rowA.querySelector("td").textContent.trim();
        const verB = rowB.querySelector("td").textContent.trim();
        return ascending ? compareVersions(verA, verB) : compareVersions(verB, verA);
      });
      ascending = !ascending;
      rows.forEach(row => tbody.appendChild(row));
      const up = document.getElementById("versionSortUp");
      const down = document.getElementById("versionSortDown");
      up.classList.toggle("text-gray-800", ascending);
      up.classList.toggle("text-gray-400", !ascending);
      down.classList.toggle("text-gray-800", !ascending);
      down.classList.toggle("text-gray-400", ascending);
    }
  --></script>
<script><!--
document.addEventListener('DOMContentLoaded', function () {
    const modsDataElement = document.querySelector('.js-mods-data');
    const modTitleElement = document.getElementById('mod-title');
    const modVersionsContainerElement = document.getElementById('mod-supported-versions-container');
    const modVersionsListElement = document.getElementById('mod-versions-list');
    const modDownloadsTbodyElement = document.getElementById('mod-downloads-tbody');

    function getQueryParam(param) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(param);
    }

    const targetModId = getQueryParam('id');

    if (!modsDataElement || !modTitleElement || !modVersionsListElement || !modDownloadsTbodyElement || !modVersionsContainerElement) {
        console.error('Required page elements not found.');
        if(modTitleElement) modTitleElement.textContent = 'ページの読み込みエラー';
        if(modDownloadsTbodyElement) modDownloadsTbodyElement.innerHTML = '<tr><td colspan="4" class="px-4 py-2 text-center text-red-500">ページの読み込みエラーが発生しました。</td></tr>';
        return;
    }

    if (!targetModId) {
        modTitleElement.textContent = 'MODが指定されていません';
        modDownloadsTbodyElement.innerHTML = '<tr><td colspan="4" class="px-4 py-2 text-center text-gray-500">表示するMODが指定されていません。</td></tr>';
        return;
    }

    try {
        const modsJsonString = modsDataElement.dataset.mods;
        const allMods = JSON.parse(modsJsonString);
        const currentMod = allMods.find(mod => mod.id === targetModId);

        if (currentMod) {
            modTitleElement.textContent = currentMod.name;
            document.title = `${currentMod.name} | ${document.title.split('|').pop().trim()}`; // Update page title

            // 対応バージョン表示
            modVersionsListElement.innerHTML = ''; // Clear previous
            if (currentMod.versions && currentMod.versions.length > 0) {
                currentMod.versions.forEach(version => {
                    const versionSpan = document.createElement('span');
                    versionSpan.className = 'inline-block bg-blue-100 text-blue-800 text-xs font-semibold mr-1 px-2.5 py-0.5 rounded';
                    versionSpan.textContent = version;
                    modVersionsListElement.appendChild(versionSpan);
                });
                modVersionsContainerElement.style.display = 'flex';
            } else {
                modVersionsContainerElement.style.display = 'none';
            }

            modDownloadsTbodyElement.innerHTML = ''; // Clear previous
            if (currentMod.links && Object.keys(currentMod.links).length > 0) {
                const sortedVersions = Object.keys(currentMod.links).sort((a, b) => compareVersions(b, a)); // デフォルトは降順

                sortedVersions.forEach(version => {
                    const linkData = currentMod.links[version];
                    const row = modDownloadsTbodyElement.insertRow();
                    row.insertCell().outerHTML = `<td class="px-4 py-2 font-bold text-gray-900 text-right">${version}</td>`;
                    row.insertCell().innerHTML = `<a href="${linkData.url}" class="text-blue-600 hover:underline" download><i class="fas fa-download mr-1"></i>${linkData.file}</a>`;
                    row.insertCell().innerHTML = `<span class="font-mono text-xs break-all">${linkData.sha1 || 'N/A'}</span>`;
                    const sizeCell = row.insertCell();
                    sizeCell.textContent = linkData.size || 'N/A';
                    sizeCell.className = 'px-4 py-2 text-right';
                });
            } else {
                modDownloadsTbodyElement.innerHTML = '<tr><td colspan="4" class="px-4 py-2 text-center text-gray-500">利用可能なダウンロードはありません。</td></tr>';
            }
        } else {
            modTitleElement.textContent = '指定されたMODが見つかりません';
            modDownloadsTbodyElement.innerHTML = '<tr><td colspan="4" class="px-4 py-2 text-center text-gray-500">指定されたMODは見つかりませんでした。</td></tr>';
            modVersionsContainerElement.style.display = 'none';
        }
    } catch (error) {
        console.error('Error processing mod data:', error);
        modTitleElement.textContent = 'MOD情報の表示エラー';
        modDownloadsTbodyElement.innerHTML = '<tr><td colspan="4" class="px-4 py-2 text-center text-red-500">MOD情報の表示中にエラーが発生しました。</td></tr>';
        modVersionsContainerElement.style.display = 'none';
    }
});
--></script>
</body>

</html>
